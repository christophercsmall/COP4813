<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title>About Me</title>
    <link rel="stylesheet" type="text/css" href="../style.css" />

    <script>     
        var reduceSta = 0;
        var ptnCnt = 0;
        var elxCnt = 0;
        var bmbCnt = 0;

        function character(name, gender, classType, att, def, mag, res, hp, sta, ptn, elx, bmb) {
            this.name = name;
            this.gender = gender;
            this.classType = classType;
            this.att = att;
            this.def = def;
            this.mag = mag;
            this.res = res;
            this.hp = hp;
            this.sta = sta;
            this.ptn = ptn;
            this.elx = elx;
            this.bmb = bmb;
        }
                
        window.onload = function () {
            var today = new Date();
            document.getElementById("today").innerHTML = today.toDateString();
            document.getElementById("stamina").innerHTML = reduceSta;
        }

        function chStam(id, type) {

            var itemId = id;

            //alert(type);

            if (document.getElementById(itemId).checked) {
                reduceSta = reduceSta + 1;
                if (type == "p1" || type == "p2" || type == "p3") {
                    ptnCnt += 1;
                }
                if (type == "e1" || type == "e2" || type == "e3") {
                    elxCnt += 1;
                }
                if (type == "b1" || type == "b2" || type == "b3") {
                    bmbCnt += 1;
                }
            }
            else {
                reduceSta = reduceSta - 1;
                if (type == "p1" || type == "p2" || type == "p3") {
                    ptnCnt -= 1;
                }
                if (type == "e1" || type == "e2" || type == "e3") {
                    elxCnt -= 1;
                }
                if (type == "b1" || type == "b2" || type == "b3") {
                    bmbCnt -= 1;
                }                
            }
            document.getElementById("stamina").innerHTML = reduceSta;
        }
        function resetForm() {
            document.getElementById("stamina").innerHTML = "";
            document.getElementById("charResult").style = "display:none"
            document.getElementById("form").reset();           
        }

        function submitForm() {
            if (isValid()) {
                document.getElementById("charResult").style = "";

                var char = new character();
                char.name = document.getElementById("charName").value;
                char.gender = document.getElementById("gender").value;
                char.classType = document.querySelector('input[name="class"]:checked').value;
                char.ptn = ptnCnt;
                char.elx = elxCnt;
                char.bmb = bmbCnt;

                switch (char.classType) {
                    case "warrior":
                        char.att = 20; char.def = 15; char.mag = 5; char.res = 5; char.hp = 18; char.sta = 11 - reduceSta;
                        break;
                    case "mage":
                        char.att = 20; char.def = 15; char.mag = 5; char.res = 5; char.hp = 18; char.sta = 11 - reduceSta;
                        break;
                    case "healer":
                        char.att = 20; char.def = 15; char.mag = 5; char.res = 5; char.hp = 18; char.sta = 11 - reduceSta;
                        break;
                    case "ranger":
                        char.att = 20; char.def = 15; char.mag = 5; char.res = 5; char.hp = 18; char.sta = 11 - reduceSta;
                        break;
                    case "rogue":
                        char.att = 20; char.def = 15; char.mag = 5; char.res = 5; char.hp = 18; char.sta = 11 - reduceSta;
                        break;
                }
                document.getElementById("hdrName").innerHTML = char.name;
                document.getElementById("nam").innerHTML = char.name;
                document.getElementById("gen").innerHTML = char.gender;
                document.getElementById("cla").innerHTML = char.classType;
                document.getElementById("att").innerHTML = char.att;
                document.getElementById("def").innerHTML = char.def;
                document.getElementById("mag").innerHTML = char.mag;
                document.getElementById("res").innerHTML = char.res;
                document.getElementById("hp").innerHTML = char.hp;
                document.getElementById("sta").innerHTML = char.sta;
                document.getElementById("ptn").innerHTML = char.ptn;
                document.getElementById("elx").innerHTML = char.elx;
                document.getElementById("bmb").innerHTML = char.bmb;                
            }
            else {
                alert("Please make sure you have entered:" + "\n" + "1. Name" + "\n" + "2: Gender" + "\n" + "3: Character Class");
            }
        }

        function isValid() {
            var result = document.getElementById("form").checkValidity();
            return result;
        }

    </script>

</head>

<body>
    <div style="float:right;">
        <p id="today" style="text-align:right; font-size:small;"></p>
        <a href="../index.html">|Back to ePortfolio|</a>
    </div>

    <h1>
        Character Creator
    </h1>
    <br />

    <form id="form">

        <br />
        <hr />
        <br />

        <div class="textContent textInput">

            <h1>Name: <input id="charName" class="textInput textContent" type="text" name="charName" required /></h1>

            <div style="text-align:center; margin-bottom:50px;">
                <h1 class="creatorHeader">Gender</h1>
                <select id="gender" required class="textInput textContent" style="font-size:x-large;" name="gender">
                    <option value="">Choose...</option>
                    <option value="m">Male</option>
                    <option value="f">Female</option>
                    <option value="r">Robot (Neither)</option>
                </select>
            </div>

            <h1 class="creatorHeader">Character Class</h1>
            <div class="" style="padding-left:20%; padding-right:20%; margin-bottom:50px;">
                <label for="w" class="textInput textContent classBox" style="width:auto;">
                    <input id="w" type="radio" name="class" value="warrior" required /> Warrior
                </label>

                <label for="m" class="textInput textContent classBox" style="width:auto;">
                    <input id="m" type="radio" name="class" value="mage" required /> Mage
                </label>

                <label for="h" class="textInput textContent classBox" style="width:auto;">
                    <input id="h" type="radio" name="class" value="healer" required /> Healer
                </label>

                <label for="ra" class="textInput textContent classBox" style="width:auto;">
                    <input id="ra" type="radio" name="class" value="ranger" required /> Ranger
                </label>

                <label for="ro" class="textInput textContent classBox" style="width:auto;">
                    <input id="ro" type="radio" name="class" value="rogue" required /> Rogue
                </label>
            </div>

            <h1 class="creatorHeader">Items</h1>
            <div style="text-align:center; display:flex;">
                <div class="checkBox" style="width:33.3333333%; float:left;">
                    <label for="p1" class="textInput textContent" style="width:auto;">
                        <input onchange="chStam(this.id, 'p1')" id="p1" type="checkbox" name="item" value="p1" /> Potion
                    </label>

                    <label for="e1" class="textInput textContent" style="width:auto;">
                        <input onchange="chStam(this.id, 'e1')" id="e1" type="checkbox" name="item" value="e1" /> Elixer
                    </label>

                    <label for="b1" class="textInput textContent" style="width:auto;">
                        <input onchange="chStam(this.id, 'b1')" id="b1" type="checkbox" name="item" value="b1" /> Bomb
                    </label>
                </div>

                <div class="checkBox" style="width:33.3333333%; float:left;">
                    <label for="p2" class="textInput textContent" style="width:auto;">
                        <input onchange="chStam(this.id, 'p2')" id="p2" type="checkbox" name="item" value="p2" /> Potion
                    </label>

                    <label for="e2" class="textInput textContent" style="width:auto;">
                        <input onchange="chStam(this.id, 'e2')" id="e2" type="checkbox" name="item" value="e2" /> Elixer
                    </label>

                    <label for="b2" class="textInput textContent" style="width:auto;">
                        <input onchange="chStam(this.id, 'b2')" id="b2" type="checkbox" name="item" value="b2" /> Bomb
                    </label>
                </div>

                <div class="checkBox" style="width:33.3333333%; float:left;">
                    <label for="p3" class="textInput textContent" style="width:auto;">
                        <input onchange="chStam(this.id, 'p3')" id="p3" type="checkbox" name="item" value="p3" /> Potion
                    </label>

                    <label for="e3" class="textInput textContent" style="width:auto;">
                        <input onchange="chStam(this.id, 'e3')" id="e3" type="checkbox" name="item" value="e3" /> Elixer
                    </label>

                    <label for="b3" class="textInput textContent" style="width:auto;">
                        <input onchange="chStam(this.id, 'b3')" id="b3" type="checkbox" name="item" value="b3" /> Bomb
                    </label>
                </div>
            </div>

            <div class="textContent" style="text-align:center; width:100px; margin:auto;">

                <span>Stamina: </span><br />
                <span>- </span><span id="stamina"></span>
            </div>
        </div>



        <br />
        <div class="" style="padding-left:20%; padding-right:20%; margin-bottom:50px; text-align:center;">
            <input id="submit" onclick="submitForm()" type="button" class="textInput" value="Submit" />
            <input id="reset" onclick="resetForm()" type="reset" class="textInput" value="Reset" />
        </div>

        <br />

    </form> <!--endform-->

    <div id="charResult">
        <h1 id="hdrName" class="creatorHeader"></h1>
        <table class="tableStyle textContent textInput" style="margin:auto;">
            <tr>
                <td>
                    Name:   <span id="nam"></span>
                </td>
                <td>
                    Gender: <span id="gen"></span>
                </td>
                <td>
                    Class:  <span id="cla"></span>
                </td>
                <td>
                    Stamina:    <span id="sta"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Attack: <span id="att"></span>
                </td>
                <td>
                    Defense:    <span id="def"></span>
                </td>
                <td>
                    Magic:  <span id="mag"></span>
                </td>
                <td>
                    Resistance: <span id="res"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Health Points:  <span id="hp"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Potions:    <span id="ptn"></span><br />
                    Elixers:    <span id="elx"></span><br />
                    Bombs:  <span id="bmb"></span><br />
                </td>
            </tr>
        </table>
    </div>

    <br />
    <hr />
    <br />

    <footer>
        <div style="float:right;">
            <a href="../index.html">|Back to ePortfolio|</a>
        </div>
    </footer>

</body>
</html>
